"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.GearMessageReply = void 0;
const utils_1 = require("./utils");
const errors_1 = require("./errors");
const Transaction_1 = require("./Transaction");
class GearMessageReply extends Transaction_1.GearTransaction {
    /**
     * Sends reply message
     * @param message Message parameters
     * @param meta Metadata
     * @param messageType MessageType
     * @returns Submitted result
     * @example
     * ```javascript
     * const api = await GearApi.create()
     * const messageId = '0xd7540ae9da85e33b47276e2cb4efc2f0b58fef1227834f21ddc8c7cb551cced6'
     * api.reply.submit({
     *  replyToId: messageId,
     *  payload: 'Reply message',
     *  gasLimit: 20_000_000
     * }, undefiend, 'String')
     * api.reply.signAndSend(account, (events) => {
     *  events.forEach(({event}) => console.log(event.toHuman()))
     * })
     * ```
     */
    submit(message, meta, messageType) {
        let payload = (0, utils_1.createPayload)(this.createType, messageType || (meta === null || meta === void 0 ? void 0 : meta.async_handle_input) || (meta === null || meta === void 0 ? void 0 : meta.async_init_input), message.payload, meta);
        try {
            this.submitted = this.api.tx.gear.sendReply(message.replyToId, payload, message.gasLimit, message.value);
            return this.submitted;
        }
        catch (error) {
            throw new errors_1.SendReplyError();
        }
    }
}
exports.GearMessageReply = GearMessageReply;
