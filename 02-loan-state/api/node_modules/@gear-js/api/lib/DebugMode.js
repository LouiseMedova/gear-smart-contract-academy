"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DebugMode = void 0;
const Transaction_1 = require("./Transaction");
const events_types_1 = require("./events-types");
class DebugMode extends Transaction_1.GearTransaction {
    enable() {
        this.enabled = this.api.tx.sudo.sudo(this.api.tx.gearDebug.enableDebugMode(true));
    }
    disable() {
        this.enabled = this.api.tx.sudo.sudo(this.api.tx.gearDebug.enableDebugMode(false));
    }
    snapshots(callback) {
        return this.api.query.system.events((events) => {
            events
                .filter(({ event }) => this.api.events.gearDebug.DebugDataSnapshot.is(event))
                .forEach(({ event }) => callback(new events_types_1.DebugDataSnapshotEvent(event)));
        });
    }
}
exports.DebugMode = DebugMode;
